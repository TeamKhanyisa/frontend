{"ast":null,"code":"// JWT 토큰 기반 API 통신 유틸리티 (axios)\nimport axios from 'axios';\n\n// 환경변수에서 백엔드 API 주소 가져오기\nconst API_BASE_URL = process.env.REACT_APP_API_URL;\nif (!API_BASE_URL) {\n  console.error('REACT_APP_API_URL 환경변수가 설정되지 않았습니다. .env 파일에 REACT_APP_API_URL을 설정해주세요.');\n  throw new Error('REACT_APP_API_URL 환경변수가 필요합니다. .env 파일을 확인해주세요.');\n}\n\n// 토큰 관리 유틸리티\nconst tokenManager = {\n  getAccessToken: () => localStorage.getItem('accessToken'),\n  getRefreshToken: () => localStorage.getItem('refreshToken'),\n  setTokens: (accessToken, refreshToken) => {\n    if (accessToken) localStorage.setItem('accessToken', accessToken);\n    if (refreshToken) localStorage.setItem('refreshToken', refreshToken);\n  },\n  clearTokens: () => {\n    try {\n      // localStorage에서 토큰 삭제\n      localStorage.removeItem('accessToken');\n      localStorage.removeItem('refreshToken');\n\n      // 삭제 확인 (선택적)\n      const accessToken = localStorage.getItem('accessToken');\n      const refreshToken = localStorage.getItem('refreshToken');\n      if (accessToken || refreshToken) {\n        console.warn('토큰 삭제 실패: 일부 토큰이 남아있습니다.');\n        // 강제 삭제 시도\n        localStorage.removeItem('accessToken');\n        localStorage.removeItem('refreshToken');\n      }\n    } catch (error) {\n      console.error('토큰 삭제 중 오류 발생:', error);\n    }\n  }\n};\n\n// axios 인스턴스 생성\nconst axiosInstance = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  withCredentials: true // httpOnly 쿠키 자동 포함\n});\n\n// 요청 인터셉터 (JWT 토큰 추가)\n// httpOnly 쿠키를 사용하더라도, localStorage에 토큰이 있으면 Authorization 헤더로도 전송\n// 이중 인증 방식: 쿠키(자동) + JWT 헤더(선택적)\naxiosInstance.interceptors.request.use(config => {\n  const accessToken = tokenManager.getAccessToken();\n  if (accessToken) {\n    config.headers.Authorization = `Bearer ${accessToken}`;\n  }\n  // httpOnly 쿠키는 withCredentials: true로 자동 전송됨\n  return config;\n}, error => Promise.reject(error));\n\n// 응답 인터셉터 (에러 처리 및 토큰 갱신)\naxiosInstance.interceptors.response.use(response => response, async error => {\n  const originalRequest = error.config;\n\n  // 401 Unauthorized인 경우 토큰 갱신 시도\n  if (error.response && error.response.status === 401 && !originalRequest._retry) {\n    originalRequest._retry = true;\n    try {\n      const refreshToken = tokenManager.getRefreshToken();\n      if (refreshToken) {\n        const response = await axios.post(`${API_BASE_URL}/api/auth/refresh`, {\n          refreshToken\n        });\n        const {\n          accessToken: newAccessToken,\n          refreshToken: newRefreshToken\n        } = response.data;\n        tokenManager.setTokens(newAccessToken, newRefreshToken);\n\n        // 원래 요청 재시도\n        originalRequest.headers.Authorization = `Bearer ${newAccessToken}`;\n        return axiosInstance(originalRequest);\n      }\n    } catch (refreshError) {\n      // 토큰 갱신 실패 시 로그인 페이지로 리다이렉트\n      tokenManager.clearTokens();\n      window.location.href = '/';\n      return Promise.reject(refreshError);\n    }\n  }\n  return Promise.reject(error);\n});\nexport { axiosInstance, tokenManager };\n\n// ==================== 공통 API ====================\n\nexport const commonAPI = {\n  // Health Check\n  healthCheck: async () => {\n    const response = await axiosInstance.get('/api/health');\n    return response.data;\n  }\n};\n\n// ==================== 인증 관련 API ====================\n\nexport const authAPI = {\n  // Kakao OAuth 로그인 시작\n  startKakaoLogin: () => {\n    window.location.href = `${API_BASE_URL}/api/auth/kakao`;\n  },\n  // 토큰 갱신\n  refreshToken: async refreshToken => {\n    const response = await axiosInstance.post('/api/auth/refresh', {\n      refreshToken\n    });\n    if (response.data.accessToken && response.data.refreshToken) {\n      tokenManager.setTokens(response.data.accessToken, response.data.refreshToken);\n    }\n    return response.data;\n  },\n  // 로그아웃\n  logout: async () => {\n    try {\n      // 서버에 로그아웃 요청 전송\n      const response = await axiosInstance.post('/api/auth/logout');\n      return response.data;\n    } catch (error) {\n      // 네트워크 오류나 서버 오류가 발생해도 토큰은 반드시 삭제\n      console.error('Logout error:', error);\n      throw error;\n    }\n  },\n  // 프로필 조회\n  getProfile: async () => {\n    const response = await axiosInstance.get('/api/auth/profile');\n    return response.data;\n  },\n  // 프로필 수정\n  updateProfile: async profileData => {\n    const response = await axiosInstance.put('/api/auth/profile', profileData);\n    return response.data;\n  },\n  // 계정 삭제\n  deleteAccount: async () => {\n    const response = await axiosInstance.delete('/api/auth/account');\n    tokenManager.clearTokens();\n    return response.data;\n  },\n  // 사장님으로 전환 요청 (user -> admin)\n  requestRoleChange: async () => {\n    const response = await axiosInstance.post('/api/auth/request-role-change');\n    return response.data;\n  },\n  // 공개키 전송\n  sendPublicKey: async publicKey => {\n    const response = await axiosInstance.put('/api/auth/public-key', {\n      publicKey\n    });\n    return response.data;\n  }\n};\n\n// ==================== 상품 관련 API ====================\n\nexport const productAPI = {\n  // 상품 목록 조회\n  getProducts: async (params = {}) => {\n    var _response$data$data;\n    const {\n      page = 1,\n      limit = 20,\n      category,\n      subCategory,\n      minPrice,\n      maxPrice,\n      search,\n      sortBy = 'createdAt',\n      sortOrder = 'desc',\n      isActive = true,\n      isFeatured\n    } = params;\n    const queryParams = {\n      page,\n      limit,\n      sortBy,\n      sortOrder,\n      isActive,\n      ...(category && {\n        category\n      }),\n      ...(subCategory && {\n        subCategory\n      }),\n      ...(minPrice !== undefined && {\n        minPrice\n      }),\n      ...(maxPrice !== undefined && {\n        maxPrice\n      }),\n      ...(search && {\n        search\n      }),\n      ...(isFeatured !== undefined && {\n        isFeatured\n      })\n    };\n    const response = await axiosInstance.get('/api/products', {\n      params: queryParams\n    });\n    // 백엔드 응답 구조: { success: true, data: { products: [...], pagination: {...} } }\n    return ((_response$data$data = response.data.data) === null || _response$data$data === void 0 ? void 0 : _response$data$data.products) || [];\n  },\n  // 상품 상세 조회\n  getProduct: async id => {\n    const response = await axiosInstance.get(`/api/products/${id}`);\n    // 백엔드 응답 구조: { success: true, data: product }\n    return response.data.data;\n  },\n  // 카테고리 목록 조회\n  getCategories: async () => {\n    const response = await axiosInstance.get('/api/products/categories/list');\n    // 백엔드 응답 구조: { success: true, data: { categories: [...], subCategories: [...] } }\n    return response.data.data;\n  },\n  // 인기 상품 조회\n  getFeaturedProducts: async (limit = 10) => {\n    const response = await axiosInstance.get('/api/products/featured/list', {\n      params: {\n        limit\n      }\n    });\n    // 백엔드 응답 구조: { success: true, data: products }\n    return response.data.data || [];\n  },\n  // 상품 등록\n  createProduct: async productData => {\n    const response = await axiosInstance.post('/api/products', productData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    // 백엔드 응답 구조: { success: true, message: '...', data: product }\n    return response.data.data;\n  },\n  // 상품 수정\n  updateProduct: async (id, productData) => {\n    const response = await axiosInstance.put(`/api/products/${id}`, productData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    // 백엔드 응답 구조: { success: true, message: '...', data: product }\n    return response.data.data;\n  },\n  // 상품 삭제\n  deleteProduct: async id => {\n    const response = await axiosInstance.delete(`/api/products/${id}`);\n    // 백엔드 응답 구조: { success: true, message: '...' }\n    return response.data;\n  }\n};\n\n// ==================== QR코드 관련 API ====================\n\nexport const qrAPI = {\n  // 개인키 포함 QR코드 생성\n  generatePrivateKeyQR: async () => {\n    const response = await axiosInstance.post('/api/qr/generate-private-key');\n    return response.data;\n  },\n  // 사용자 정의 QR코드 생성\n  generateCustomQR: async (data, options = {}) => {\n    const response = await axiosInstance.post('/api/qr/generate-custom', {\n      data,\n      options\n    });\n    return response.data;\n  },\n  // 개인키 검증\n  validateKey: async privateKey => {\n    const response = await axiosInstance.post('/api/qr/validate-key', {\n      privateKey\n    });\n    return response.data;\n  },\n  // QR코드 스캔 결과 처리\n  scanQR: async qrData => {\n    // qrData가 이미 JSON 문자열인 경우 그대로 전송, 객체인 경우 JSON.stringify\n    const data = typeof qrData === 'string' ? qrData : JSON.stringify(qrData);\n    const response = await axiosInstance.post('/api/qr/scan', {\n      qrData: data\n    });\n    return response.data;\n  }\n};\n\n// ==================== 결제 관련 API ====================\n\nexport const paymentAPI = {\n  // 결제 생성\n  createPayment: async paymentData => {\n    const response = await axiosInstance.post('/api/payment/create', paymentData);\n    // 백엔드 응답 구조: { success: true, data: payment }\n    return response.data.data;\n  },\n  // 결제 상태 조회\n  getPayment: async paymentId => {\n    const response = await axiosInstance.get(`/api/payment/get/${paymentId}`);\n    // 백엔드 응답 구조: { success: true, data: payment }\n    return response.data.data;\n  },\n  // 사용자 결제 내역 조회 (페이지네이션 없음)\n  getMyPayments: async (params = {}) => {\n    const {\n      status\n    } = params;\n    const queryParams = {\n      ...(status && {\n        status\n      })\n    };\n    const response = await axiosInstance.get('/api/payment/my', {\n      params: queryParams\n    });\n    // 백엔드 응답 구조: { success: true, data: { payments: [...], pagination: {...} } }\n    return response.data.data;\n  },\n  // QR 인증\n  verifyQR: async verifyData => {\n    const response = await axiosInstance.post('/api/payment/verify', verifyData);\n    // 백엔드 응답 구조: { success: true, message: '...', data: {...} }\n    return response.data;\n  }\n};\n\n// ==================== 관리자 결제 관련 API ====================\n\nexport const adminPaymentAPI = {\n  // 성공한 결제 목록 조회 (관리자만)\n  getSuccessfulPayments: async (params = {}) => {\n    const {\n      page = 1,\n      limit = 20,\n      startDate,\n      endDate,\n      sortBy = 'createdAt',\n      sortOrder = 'desc'\n    } = params;\n    const queryParams = {\n      page,\n      limit,\n      sortBy,\n      sortOrder,\n      ...(startDate && {\n        startDate\n      }),\n      ...(endDate && {\n        endDate\n      })\n    };\n    const response = await axiosInstance.get('/api/payment/admin/list', {\n      params: queryParams\n    });\n    // 백엔드 응답 구조: { success: true, data: { payments: [...], pagination: {...} } }\n    return response.data.data;\n  },\n  // 상자번호 업데이트 (관리자만)\n  updateBoxNumber: async (paymentId, boxNumber) => {\n    const response = await axiosInstance.put('/api/payment/admin/update-box', {\n      paymentId,\n      boxNumber\n    });\n    // 백엔드 응답 구조: { success: true, message: '...', data: payment }\n    return response.data.data;\n  }\n};\nexport default axiosInstance;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","console","error","Error","tokenManager","getAccessToken","localStorage","getItem","getRefreshToken","setTokens","accessToken","refreshToken","setItem","clearTokens","removeItem","warn","axiosInstance","create","baseURL","headers","withCredentials","interceptors","request","use","config","Authorization","Promise","reject","response","originalRequest","status","_retry","post","newAccessToken","newRefreshToken","data","refreshError","window","location","href","commonAPI","healthCheck","get","authAPI","startKakaoLogin","logout","getProfile","updateProfile","profileData","put","deleteAccount","delete","requestRoleChange","sendPublicKey","publicKey","productAPI","getProducts","params","_response$data$data","page","limit","category","subCategory","minPrice","maxPrice","search","sortBy","sortOrder","isActive","isFeatured","queryParams","undefined","products","getProduct","id","getCategories","getFeaturedProducts","createProduct","productData","updateProduct","deleteProduct","qrAPI","generatePrivateKeyQR","generateCustomQR","options","validateKey","privateKey","scanQR","qrData","JSON","stringify","paymentAPI","createPayment","paymentData","getPayment","paymentId","getMyPayments","verifyQR","verifyData","adminPaymentAPI","getSuccessfulPayments","startDate","endDate","updateBoxNumber","boxNumber"],"sources":["/Users/parkchanyu/Developer/FACT_Front/frontend/src/utils/api.js"],"sourcesContent":["// JWT 토큰 기반 API 통신 유틸리티 (axios)\nimport axios from 'axios';\n\n// 환경변수에서 백엔드 API 주소 가져오기\nconst API_BASE_URL = process.env.REACT_APP_API_URL;\n\nif (!API_BASE_URL) {\n  console.error(\n    'REACT_APP_API_URL 환경변수가 설정되지 않았습니다. .env 파일에 REACT_APP_API_URL을 설정해주세요.'\n  );\n  throw new Error(\n    'REACT_APP_API_URL 환경변수가 필요합니다. .env 파일을 확인해주세요.'\n  );\n}\n\n// 토큰 관리 유틸리티\nconst tokenManager = {\n  getAccessToken: () => localStorage.getItem('accessToken'),\n  getRefreshToken: () => localStorage.getItem('refreshToken'),\n  setTokens: (accessToken, refreshToken) => {\n    if (accessToken) localStorage.setItem('accessToken', accessToken);\n    if (refreshToken) localStorage.setItem('refreshToken', refreshToken);\n  },\n  clearTokens: () => {\n    try {\n      // localStorage에서 토큰 삭제\n      localStorage.removeItem('accessToken');\n      localStorage.removeItem('refreshToken');\n      \n      // 삭제 확인 (선택적)\n      const accessToken = localStorage.getItem('accessToken');\n      const refreshToken = localStorage.getItem('refreshToken');\n      \n      if (accessToken || refreshToken) {\n        console.warn('토큰 삭제 실패: 일부 토큰이 남아있습니다.');\n        // 강제 삭제 시도\n        localStorage.removeItem('accessToken');\n        localStorage.removeItem('refreshToken');\n      }\n    } catch (error) {\n      console.error('토큰 삭제 중 오류 발생:', error);\n    }\n  },\n};\n\n// axios 인스턴스 생성\nconst axiosInstance = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  withCredentials: true, // httpOnly 쿠키 자동 포함\n});\n\n// 요청 인터셉터 (JWT 토큰 추가)\n// httpOnly 쿠키를 사용하더라도, localStorage에 토큰이 있으면 Authorization 헤더로도 전송\n// 이중 인증 방식: 쿠키(자동) + JWT 헤더(선택적)\naxiosInstance.interceptors.request.use(\n  (config) => {\n    const accessToken = tokenManager.getAccessToken();\n    if (accessToken) {\n      config.headers.Authorization = `Bearer ${accessToken}`;\n    }\n    // httpOnly 쿠키는 withCredentials: true로 자동 전송됨\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\n// 응답 인터셉터 (에러 처리 및 토큰 갱신)\naxiosInstance.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    const originalRequest = error.config;\n\n    // 401 Unauthorized인 경우 토큰 갱신 시도\n    if (error.response && error.response.status === 401 && !originalRequest._retry) {\n      originalRequest._retry = true;\n\n      try {\n        const refreshToken = tokenManager.getRefreshToken();\n        if (refreshToken) {\n          const response = await axios.post(`${API_BASE_URL}/api/auth/refresh`, {\n            refreshToken,\n          });\n\n          const { accessToken: newAccessToken, refreshToken: newRefreshToken } = response.data;\n          tokenManager.setTokens(newAccessToken, newRefreshToken);\n\n          // 원래 요청 재시도\n          originalRequest.headers.Authorization = `Bearer ${newAccessToken}`;\n          return axiosInstance(originalRequest);\n        }\n      } catch (refreshError) {\n        // 토큰 갱신 실패 시 로그인 페이지로 리다이렉트\n        tokenManager.clearTokens();\n        window.location.href = '/';\n        return Promise.reject(refreshError);\n      }\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nexport { axiosInstance, tokenManager };\n\n// ==================== 공통 API ====================\n\nexport const commonAPI = {\n  // Health Check\n  healthCheck: async () => {\n    const response = await axiosInstance.get('/api/health');\n    return response.data;\n  },\n};\n\n// ==================== 인증 관련 API ====================\n\nexport const authAPI = {\n  // Kakao OAuth 로그인 시작\n  startKakaoLogin: () => {\n    window.location.href = `${API_BASE_URL}/api/auth/kakao`;\n  },\n\n  // 토큰 갱신\n  refreshToken: async (refreshToken) => {\n    const response = await axiosInstance.post('/api/auth/refresh', { refreshToken });\n    if (response.data.accessToken && response.data.refreshToken) {\n      tokenManager.setTokens(response.data.accessToken, response.data.refreshToken);\n    }\n    return response.data;\n  },\n\n  // 로그아웃\n  logout: async () => {\n    try {\n      // 서버에 로그아웃 요청 전송\n      const response = await axiosInstance.post('/api/auth/logout');\n      return response.data;\n    } catch (error) {\n      // 네트워크 오류나 서버 오류가 발생해도 토큰은 반드시 삭제\n      console.error('Logout error:', error);\n      throw error;\n    }\n  },\n\n  // 프로필 조회\n  getProfile: async () => {\n    const response = await axiosInstance.get('/api/auth/profile');\n    return response.data;\n  },\n\n  // 프로필 수정\n  updateProfile: async (profileData) => {\n    const response = await axiosInstance.put('/api/auth/profile', profileData);\n    return response.data;\n  },\n\n  // 계정 삭제\n  deleteAccount: async () => {\n    const response = await axiosInstance.delete('/api/auth/account');\n    tokenManager.clearTokens();\n    return response.data;\n  },\n\n  // 사장님으로 전환 요청 (user -> admin)\n  requestRoleChange: async () => {\n    const response = await axiosInstance.post('/api/auth/request-role-change');\n    return response.data;\n  },\n\n  // 공개키 전송\n  sendPublicKey: async (publicKey) => {\n    const response = await axiosInstance.put('/api/auth/public-key', {\n      publicKey,\n    });\n    return response.data;\n  },\n};\n\n// ==================== 상품 관련 API ====================\n\nexport const productAPI = {\n  // 상품 목록 조회\n  getProducts: async (params = {}) => {\n    const {\n      page = 1,\n      limit = 20,\n      category,\n      subCategory,\n      minPrice,\n      maxPrice,\n      search,\n      sortBy = 'createdAt',\n      sortOrder = 'desc',\n      isActive = true,\n      isFeatured,\n    } = params;\n\n    const queryParams = {\n      page,\n      limit,\n      sortBy,\n      sortOrder,\n      isActive,\n      ...(category && { category }),\n      ...(subCategory && { subCategory }),\n      ...(minPrice !== undefined && { minPrice }),\n      ...(maxPrice !== undefined && { maxPrice }),\n      ...(search && { search }),\n      ...(isFeatured !== undefined && { isFeatured }),\n    };\n\n    const response = await axiosInstance.get('/api/products', { params: queryParams });\n    // 백엔드 응답 구조: { success: true, data: { products: [...], pagination: {...} } }\n    return response.data.data?.products || [];\n  },\n\n  // 상품 상세 조회\n  getProduct: async (id) => {\n    const response = await axiosInstance.get(`/api/products/${id}`);\n    // 백엔드 응답 구조: { success: true, data: product }\n    return response.data.data;\n  },\n\n  // 카테고리 목록 조회\n  getCategories: async () => {\n    const response = await axiosInstance.get('/api/products/categories/list');\n    // 백엔드 응답 구조: { success: true, data: { categories: [...], subCategories: [...] } }\n    return response.data.data;\n  },\n\n  // 인기 상품 조회\n  getFeaturedProducts: async (limit = 10) => {\n    const response = await axiosInstance.get('/api/products/featured/list', {\n      params: { limit },\n    });\n    // 백엔드 응답 구조: { success: true, data: products }\n    return response.data.data || [];\n  },\n\n  // 상품 등록\n  createProduct: async (productData) => {\n    const response = await axiosInstance.post('/api/products', productData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n    // 백엔드 응답 구조: { success: true, message: '...', data: product }\n    return response.data.data;\n  },\n\n  // 상품 수정\n  updateProduct: async (id, productData) => {\n    const response = await axiosInstance.put(`/api/products/${id}`, productData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n    // 백엔드 응답 구조: { success: true, message: '...', data: product }\n    return response.data.data;\n  },\n\n  // 상품 삭제\n  deleteProduct: async (id) => {\n    const response = await axiosInstance.delete(`/api/products/${id}`);\n    // 백엔드 응답 구조: { success: true, message: '...' }\n    return response.data;\n  },\n};\n\n// ==================== QR코드 관련 API ====================\n\nexport const qrAPI = {\n  // 개인키 포함 QR코드 생성\n  generatePrivateKeyQR: async () => {\n    const response = await axiosInstance.post('/api/qr/generate-private-key');\n    return response.data;\n  },\n\n  // 사용자 정의 QR코드 생성\n  generateCustomQR: async (data, options = {}) => {\n    const response = await axiosInstance.post('/api/qr/generate-custom', {\n      data,\n      options,\n    });\n    return response.data;\n  },\n\n  // 개인키 검증\n  validateKey: async (privateKey) => {\n    const response = await axiosInstance.post('/api/qr/validate-key', {\n      privateKey,\n    });\n    return response.data;\n  },\n\n  // QR코드 스캔 결과 처리\n  scanQR: async (qrData) => {\n    // qrData가 이미 JSON 문자열인 경우 그대로 전송, 객체인 경우 JSON.stringify\n    const data = typeof qrData === 'string' ? qrData : JSON.stringify(qrData);\n    const response = await axiosInstance.post('/api/qr/scan', {\n      qrData: data,\n    });\n    return response.data;\n  },\n};\n\n// ==================== 결제 관련 API ====================\n\nexport const paymentAPI = {\n  // 결제 생성\n  createPayment: async (paymentData) => {\n    const response = await axiosInstance.post('/api/payment/create', paymentData);\n    // 백엔드 응답 구조: { success: true, data: payment }\n    return response.data.data;\n  },\n\n  // 결제 상태 조회\n  getPayment: async (paymentId) => {\n    const response = await axiosInstance.get(`/api/payment/get/${paymentId}`);\n    // 백엔드 응답 구조: { success: true, data: payment }\n    return response.data.data;\n  },\n\n  // 사용자 결제 내역 조회 (페이지네이션 없음)\n  getMyPayments: async (params = {}) => {\n    const {\n      status,\n    } = params;\n\n    const queryParams = {\n      ...(status && { status }),\n    };\n\n    const response = await axiosInstance.get('/api/payment/my', {\n      params: queryParams,\n    });\n    // 백엔드 응답 구조: { success: true, data: { payments: [...], pagination: {...} } }\n    return response.data.data;\n  },\n\n  // QR 인증\n  verifyQR: async (verifyData) => {\n    const response = await axiosInstance.post('/api/payment/verify', verifyData);\n    // 백엔드 응답 구조: { success: true, message: '...', data: {...} }\n    return response.data;\n  },\n};\n\n// ==================== 관리자 결제 관련 API ====================\n\nexport const adminPaymentAPI = {\n  // 성공한 결제 목록 조회 (관리자만)\n  getSuccessfulPayments: async (params = {}) => {\n    const {\n      page = 1,\n      limit = 20,\n      startDate,\n      endDate,\n      sortBy = 'createdAt',\n      sortOrder = 'desc',\n    } = params;\n\n    const queryParams = {\n      page,\n      limit,\n      sortBy,\n      sortOrder,\n      ...(startDate && { startDate }),\n      ...(endDate && { endDate }),\n    };\n\n    const response = await axiosInstance.get('/api/payment/admin/list', {\n      params: queryParams,\n    });\n    // 백엔드 응답 구조: { success: true, data: { payments: [...], pagination: {...} } }\n    return response.data.data;\n  },\n\n  // 상자번호 업데이트 (관리자만)\n  updateBoxNumber: async (paymentId, boxNumber) => {\n    const response = await axiosInstance.put('/api/payment/admin/update-box', {\n      paymentId,\n      boxNumber,\n    });\n    // 백엔드 응답 구조: { success: true, message: '...', data: payment }\n    return response.data.data;\n  },\n};\n\nexport default axiosInstance;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}