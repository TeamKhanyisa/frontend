{"ast":null,"code":"// 쿠키 기반 API 통신 유틸리티 (axios)\nimport axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080';\n\n// axios 인스턴스 생성 (쿠키 자동 포함)\nconst axiosInstance = axios.create({\n  baseURL: API_BASE_URL,\n  withCredentials: true,\n  // 쿠키를 자동으로 포함\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// 응답 인터셉터 (에러 처리)\naxiosInstance.interceptors.response.use(response => response, error => {\n  // 401 Unauthorized인 경우 로그인 페이지로 리다이렉트\n  if (error.response && error.response.status === 401) {\n    window.location.href = '/';\n  }\n  return Promise.reject(error);\n});\nexport { axiosInstance };\n\n// 상품 API\nexport const productAPI = {\n  // 상품 목록 조회\n  getProducts: async (params = {}) => {\n    const response = await axiosInstance.get('/api/products', {\n      params\n    });\n    return response.data;\n  },\n  // 상품 상세 조회\n  getProduct: async id => {\n    const response = await axiosInstance.get(`/api/products/${id}`);\n    return response.data;\n  },\n  // 상품 등록 (FormData로 전송)\n  createProduct: async productData => {\n    const response = await axiosInstance.post('/api/product/upload', productData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  },\n  // 상품 수정\n  updateProduct: async (id, productData) => {\n    const response = await axiosInstance.put(`/api/products/${id}`, productData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  },\n  // 상품 삭제\n  deleteProduct: async id => {\n    const response = await axiosInstance.delete(`/api/products/${id}`);\n    return response.data;\n  },\n  // 상품 일괄 삭제\n  bulkDeleteProducts: async ids => {\n    const response = await axiosInstance.delete('/api/products/bulk-delete', {\n      data: {\n        ids\n      }\n    });\n    return response.data;\n  }\n};\n\n// 인증 API\nexport const authAPI = {\n  // 로그인\n  login: async (email, password) => {\n    const response = await axiosInstance.post('/api/auth/login', {\n      email,\n      password\n    });\n    return response.data;\n  },\n  // 로그아웃\n  logout: async () => {\n    const response = await axiosInstance.post('/api/auth/logout');\n    return response.data;\n  },\n  // 현재 사용자 정보 조회\n  getCurrentUser: async () => {\n    const response = await axiosInstance.get('/api/auth/me');\n    return response.data;\n  },\n  // 회원가입\n  signup: async userData => {\n    const response = await axiosInstance.post('/api/auth/signup', userData);\n    return response.data;\n  }\n};\n\n// 출입 요청 API\nexport const accessRequestAPI = {\n  // 출입 요청 목록 조회\n  getRequests: async () => {\n    const response = await axiosInstance.get('/api/access-requests');\n    return response.data;\n  },\n  // 출입 승인\n  approveRequest: async id => {\n    const response = await axiosInstance.post(`/api/access-requests/${id}/approve`);\n    return response.data;\n  },\n  // 출입 거부\n  rejectRequest: async id => {\n    const response = await axiosInstance.post(`/api/access-requests/${id}/reject`);\n    return response.data;\n  },\n  // 출입 요청 생성\n  createRequest: async type => {\n    const response = await axiosInstance.post('/api/access-requests', {\n      type\n    });\n    return response.data;\n  }\n};\n\n// 문 제어 API\nexport const doorControlAPI = {\n  // 문 열기\n  openDoor: async () => {\n    const response = await axiosInstance.post('/api/door/open');\n    return response.data;\n  },\n  // 문 닫기\n  closeDoor: async () => {\n    const response = await axiosInstance.post('/api/door/close');\n    return response.data;\n  },\n  // 긴급 모드 활성화\n  activateEmergencyMode: async () => {\n    const response = await axiosInstance.post('/api/door/emergency-mode');\n    return response.data;\n  }\n};\nexport default axiosInstance;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","axiosInstance","create","baseURL","withCredentials","headers","interceptors","response","use","error","status","window","location","href","Promise","reject","productAPI","getProducts","params","get","data","getProduct","id","createProduct","productData","post","updateProduct","put","deleteProduct","delete","bulkDeleteProducts","ids","authAPI","login","email","password","logout","getCurrentUser","signup","userData","accessRequestAPI","getRequests","approveRequest","rejectRequest","createRequest","type","doorControlAPI","openDoor","closeDoor","activateEmergencyMode"],"sources":["/Users/chan/Develope/FACT_DESIGN/REACT/src/utils/api.js"],"sourcesContent":["// 쿠키 기반 API 통신 유틸리티 (axios)\nimport axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080';\n\n// axios 인스턴스 생성 (쿠키 자동 포함)\nconst axiosInstance = axios.create({\n  baseURL: API_BASE_URL,\n  withCredentials: true, // 쿠키를 자동으로 포함\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// 응답 인터셉터 (에러 처리)\naxiosInstance.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    // 401 Unauthorized인 경우 로그인 페이지로 리다이렉트\n    if (error.response && error.response.status === 401) {\n      window.location.href = '/';\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport { axiosInstance };\n\n// 상품 API\nexport const productAPI = {\n  // 상품 목록 조회\n  getProducts: async (params = {}) => {\n    const response = await axiosInstance.get('/api/products', { params });\n    return response.data;\n  },\n\n  // 상품 상세 조회\n  getProduct: async (id) => {\n    const response = await axiosInstance.get(`/api/products/${id}`);\n    return response.data;\n  },\n\n  // 상품 등록 (FormData로 전송)\n  createProduct: async (productData) => {\n    const response = await axiosInstance.post('/api/product/upload', productData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n    return response.data;\n  },\n\n  // 상품 수정\n  updateProduct: async (id, productData) => {\n    const response = await axiosInstance.put(`/api/products/${id}`, productData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n    return response.data;\n  },\n\n  // 상품 삭제\n  deleteProduct: async (id) => {\n    const response = await axiosInstance.delete(`/api/products/${id}`);\n    return response.data;\n  },\n\n  // 상품 일괄 삭제\n  bulkDeleteProducts: async (ids) => {\n    const response = await axiosInstance.delete('/api/products/bulk-delete', {\n      data: { ids },\n    });\n    return response.data;\n  },\n};\n\n// 인증 API\nexport const authAPI = {\n  // 로그인\n  login: async (email, password) => {\n    const response = await axiosInstance.post('/api/auth/login', { email, password });\n    return response.data;\n  },\n\n  // 로그아웃\n  logout: async () => {\n    const response = await axiosInstance.post('/api/auth/logout');\n    return response.data;\n  },\n\n  // 현재 사용자 정보 조회\n  getCurrentUser: async () => {\n    const response = await axiosInstance.get('/api/auth/me');\n    return response.data;\n  },\n\n  // 회원가입\n  signup: async (userData) => {\n    const response = await axiosInstance.post('/api/auth/signup', userData);\n    return response.data;\n  },\n};\n\n// 출입 요청 API\nexport const accessRequestAPI = {\n  // 출입 요청 목록 조회\n  getRequests: async () => {\n    const response = await axiosInstance.get('/api/access-requests');\n    return response.data;\n  },\n\n  // 출입 승인\n  approveRequest: async (id) => {\n    const response = await axiosInstance.post(`/api/access-requests/${id}/approve`);\n    return response.data;\n  },\n\n  // 출입 거부\n  rejectRequest: async (id) => {\n    const response = await axiosInstance.post(`/api/access-requests/${id}/reject`);\n    return response.data;\n  },\n\n  // 출입 요청 생성\n  createRequest: async (type) => {\n    const response = await axiosInstance.post('/api/access-requests', { type });\n    return response.data;\n  },\n};\n\n// 문 제어 API\nexport const doorControlAPI = {\n  // 문 열기\n  openDoor: async () => {\n    const response = await axiosInstance.post('/api/door/open');\n    return response.data;\n  },\n\n  // 문 닫기\n  closeDoor: async () => {\n    const response = await axiosInstance.post('/api/door/close');\n    return response.data;\n  },\n\n  // 긴급 모드 활성화\n  activateEmergencyMode: async () => {\n    const response = await axiosInstance.post('/api/door/emergency-mode');\n    return response.data;\n  },\n};\n\nexport default axiosInstance;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}